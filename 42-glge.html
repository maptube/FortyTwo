<html><head> 
 
 
<title>42-GLGE</title> 
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
 
<script type="text/javascript" src="js/glge-compiled-min.js"></script> 
<style>
body{background-color: #000;color: #fff;font-family:arial}
</style>
</head>

<body>
<div>
<div style="width:900px;margin:auto;position:relative" id="container">
<canvas id="canvas" width="900" height="500"></canvas>
<div id="framerate" style="position:absolute; left: 750px; top: 20px; background-color: #000; opacity: 0.5;height: 30px; width: 130px; border-radius: 5px;	-moz-border-radius5px;-webkit-border-radius:5px;border: 1px solid #fff;">
<div id="debug" style="padding: 5px"></div>
</div>

</div>

</div>

<script type="text/javascript">

var gameScene;
var doc = new GLGE.Document();
doc.onLoad=function(){


//create the renderer
var gameRenderer=new GLGE.Renderer(document.getElementById('canvas'));
gameScene=new GLGE.Scene();
gameScene=doc.getElement("mainscene");

gameRenderer.setScene(gameScene);

var lasttime=0;
var frameratebuffer=60;
var playervel=-1;
var gravity=-98;
start=parseInt(new Date().getTime());
lasttime=start;
var now;
function render(){
	now=parseInt(new Date().getTime());
	//do the players gravity
	 
	frameratebuffer=Math.round(((frameratebuffer*9)+1000/(now-lasttime))/10);
	document.getElementById("debug").innerHTML="Frame Rate:"+frameratebuffer;
	
	gameRenderer.render();
	lasttime=now;
}
setInterval(render,1); //I thought setInterval was bad?

}
//doc.load("level.xml");
</script>

</body></html>